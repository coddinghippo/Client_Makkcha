(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(t,e,n){t.exports=n(283)},283:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=n(5),l=n(139),u=n(32),s=n(4),d=n(128),m=n.n(d);function f(){var t=Object(c.a)(["\n",";\n@import url(\"https://cdnjs.cloudflare.com/ajax/libs/antd/3.16.6/antd.min.css\");\n\n* {\n    box-sizing: border-box;\n}\n\nbody{\n  font-family: 'Nanum Gothic', sans-serif;\n}\n\n#root{\n  width: 100%;\n  height: 100%;\n}\n\na{\n  color: unset;\n  &:hover{\n    color: unset;\n  }\n}\n\nstrong{\n  font-weight: 700;\n}\n\nbutton{\n  cursor: pointer;\n  background-color: white;\n  outline: none;\n  border: none;\n  &:active {\n    outline: none;\n    border: none;\n  }\n}\n"]);return f=function(){return t},t}var h=Object(s.createGlobalStyle)(f(),m.a),p=n(27),b=n(28),g=n(30),v=n(29),y=n(31),j=n(285),k=n(286),x=n(74),O=n(46),w=n.n(O),E=n(67),S=n.n(E);function C(){var t=Object(c.a)(["\n  width: 90%;\n  height: 2.2rem;\n  color: #000033;\n  border-radius: 1.5rem;\n  margin-bottom: 1.3rem;\n  backgrouncolor: #000;\n  font-weight: bold;\n"]);return C=function(){return t},t}function A(){var t=Object(c.a)(["\n  display: flex;\n  width: 100%;\n  postion: fixed;\n  bottom: 0;\n  justify-content: center;\n"]);return A=function(){return t},t}function P(){var t=Object(c.a)(["\n  width: 15rem;\n  border: none;\n  background: #000033;\n  text-align: center;\n  color: white;\n  border-bottom: 1px solid white;\n  &#address_address {\n    border-bottom: 1px solid white;\n  }\n  transition: none;\n  border-radius: 0;\n"]);return P=function(){return t},t}function D(){var t=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return D=function(){return t},t}function F(){var t=Object(c.a)(["\n  display: flex;\n  flex: 1;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return F=function(){return t},t}function X(){var t=Object(c.a)(["\n  background: #000033;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return X=function(){return t},t}var N=j.a.Item,T=s.default.div(X()),K=Object(s.default)(j.a)(F()),L=Object(s.default)(N)(D()),Y=Object(s.default)(k.a)(P()),B=s.default.div(A()),I=Object(s.default)(x.a)(C()),M=function(t){function e(){var t,n;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(r)))).handleSubmit=function(t){t.preventDefault(),n.props.form.validateFields(function(t,e){t?console.log(t):n.getPosFromAddr(e.address)})},n}return Object(y.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"getPosFromAddr",value:function(t){var e="https://dapi.kakao.com/v2/local/search/",n={Authorization:"KakaoAK ".concat(S.a.KakaoAK)};Promise.race([new Promise(function(a){return w.a.get(e+"address.json?query=".concat(t),{headers:n}).then(function(t){t.data.documents.length&&a(t.data.documents)})}),new Promise(function(a){return w.a.get(e+"keyword.json?query=".concat(t),{headers:n}).then(function(t){t.data.documents.length&&a(t.data.documents)})})]).then(function(t){var e={endX:t[0].x,endY:t[0].y},n=t[0].address_name;localStorage.setItem("loc",JSON.stringify({endLocation:e,addr:n}))}).then(this.props.toggleComponent)}},{key:"render",value:function(){var t=this.props.form,e=t.getFieldDecorator,n=t.getFieldError,a=(0,t.isFieldTouched)("address")&&n("address");return r.a.createElement(T,null,r.a.createElement(K,null,r.a.createElement(L,{validateStatus:a?"error":"",help:a||""},e("address",{rules:[{required:!1,message:"\uc9d1 \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694!"}]})(r.a.createElement(Y,{placeholder:"\uc9d1 \uc8fc\uc18c \uc785\ub825"})))),r.a.createElement(B,null,r.a.createElement(I,{type:"secondary",onClick:this.handleSubmit},"\ud655\uc778")))}}]),e}(a.Component),z=j.a.create({name:"address"})(M),G=n(18),J=n(284),_=n(102),q=n.n(_),U=768,W=576,$={"\ub3c4\ubcf4":"#ccc","1\ud638\uc120":"#052f93","2\ud638\uc120":"#10a643","3\ud638\uc120":"#ea8406","4\ud638\uc120":"#00a8e6","5\ud638\uc120":"#a95094","6\ud638\uc120":"#d08d1a","7\ud638\uc120":"#657931","8\ud638\uc120":"#e74e6d","9\ud638\uc120":"#be941c","\uacbd\uac15\uc120":"#004ea7","\uacbd\uc758\uc911\uc559\uc120":"#79c0a0","\uacbd\ucd98\uc120":"#33C7A7","\uacf5\ud56d\ucca0\ub3c4":"#038fa0","\ubd84\ub2f9\uc120":"#fcd204","\uc11c\ud574":"#8be800","\uc218\uc778\uc120":"#fbb901","\uc2e0\ubd84\ub2f9\uc120":"#cd2234","\uc6a9\uc778\uacbd\uc804\ucca0":"#56ab32","\uc6b0\uc774\uc2e0\uc124\uacbd\uc804\ucca0":"#b7b7b7","\uc758\uc815\ubd80\uacbd\uc804\ucca0":"#f6ba02","\uc778\ucc9c1\ud638\uc120":"#6496df","\uc778\ucc9c2\ud638\uc120":"#fd9800"},H=function(t){return"@media (max-width: ".concat(t,"px)")};H(922),H(U),H(W);function Q(){var t=Object(c.a)(["\n  width: 90%;\n  height: 3rem;\n  color: white;\n  background: #000033;\n  border-radius: 1.5rem;\n  margin-bottom: 1.3rem;\n  backgrouncolor: #000;\n  font-weight: bold;\n"]);return Q=function(){return t},t}function R(){var t=Object(c.a)(["\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  width: 100%;\n  bottom: 0;\n"]);return R=function(){return t},t}function V(){var t=Object(c.a)(["\n  margin: 0.5rem 0;\n  width: 90%;\n  font-weight: 700;\n"]);return V=function(){return t},t}function Z(){var t=Object(c.a)(["\n  width: 90%;\n  margin: 1rem 0;\n"]);return Z=function(){return t},t}function tt(){var t=Object(c.a)(["\n  text-align: center;\n  height: 20px;\n  &:first-of-type {\n    border-top-left-radius: 3rem;\n    border-bottom-left-radius: 3rem;\n  }\n  &:last-of-type {\n    border-top-right-radius: 3rem;\n    border-bottom-right-radius: 3rem;\n  }\n"]);return tt=function(){return t},t}function et(){var t=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1rem;\n  width: 90%;\n  max-width: 90%;\n  height: 1rem;\n  background: sky-blue;\n  // &:first-child {\n  //   border-top-left-radius: 5px;\n  //   border-bottom-left-radius: 5px;\n  // }\n"]);return et=function(){return t},t}function nt(){var t=Object(c.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-bottom: 1px solid #ccc;\n"]);return nt=function(){return t},t}function at(){var t=Object(c.a)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n"]);return at=function(){return t},t}var rt=s.default.div(at()),ot=s.default.div(nt()),it=s.default.div(et()),ct=s.default.div(tt()),lt=s.default.div(Z()),ut=s.default.p(V()),st=s.default.div(R()),dt=Object(s.default)(x.a)(Q()),mt=function(t){function e(){var t,n;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(r)))).state={taxi:{time:0,distance:0,price:0},makcha:[{routeNm:"\ub3c4\ubcf4",time:0}],route:{price:null,lastTimeList:[{lastTimeDay:"00:00:30 (\uc218\uc11c\ud589)"}]}},n}return Object(y.a)(e,t),Object(b.a)(e,[{key:"componentDidUpdate",value:function(t,e){if(t.data!==this.props.data){var n=this.props.data,a=n.taxiInfo,r=n.pathOptionList;if(r.length){var o=r[0].makchaPathList,i=r[0].route;this.setState({taxi:a,makcha:o,route:i})}}}},{key:"renderBar",value:function(){var t=this.state.makcha,e=t.reduce(function(t,e){return t+e.time},0);return t.map(function(t,n){var a=Math.floor(Number(t.time)/e*100);return a<24&&(a=24),a=String(a)+"%",r.a.createElement(ct,{className:"haha",key:q()(),style:{width:a,backgroundColor:$[t.routeNm],color:"white"}},t.time,"\ubd84")})}},{key:"renderStn",value:function(){console.log("log: ",this.state);var t=this.state.makcha,e=t.reduce(function(t,e){return t+e.time},0);return t.map(function(t,n){var a=Math.floor(Number(t.time)/e*100);return a<24&&(a=24),a=String(a)+"%",r.a.createElement(ct,{key:q()(),style:{width:a,color:"black",textAlign:"left"}},r.a.createElement("span",{style:{fontSize:8}},"\ub3c4\ubcf4"===t.routeNm?"\ub3c4\ubcf4":t.fname))})}},{key:"render",value:function(){console.log(this.state);var t=this.state,e=t.taxi,n=t.makcha,a=(t.route,n.reduce(function(t,e){return t+e.time},0)),o=n.reduce(function(t,e){return t+e.distance},0)/1e3,i=this.state.route.lastTimeList;return r.a.createElement(rt,{speed:.8,horizontal:!1},r.a.createElement(ot,null,r.a.createElement(lt,null,r.a.createElement(ut,null,"\uc9c0\ud558\ucca0 ",a,"\ubd84 | \ub9c9\ucc28"," ",i[0].lastTimeDay.slice(0,5)),r.a.createElement("p",null,o.toFixed(1),"km |"," ",String(Math.floor(this.state.route.price/1e3))+","+String(this.state.route.price%1e3),"\uc6d0 | ",n[0].time,"\ubd84")),r.a.createElement(it,{className:"nana",style:{marginBottom:0}},this.renderBar()),r.a.createElement(it,{style:{marginTop:0}},this.renderStn())),r.a.createElement(ot,null,r.a.createElement(lt,null,r.a.createElement(ut,null,"\ud0dd\uc2dc ",e.time,"\ubd84"),r.a.createElement("p",null,(e.distance/1e3).toFixed(1),"km | \uc57d"," ",String(Math.floor(e.price/1e3))+","+String(e.price%1e3),"\uc6d0 | \ub3c4\ubcf4 0\ubd84")),r.a.createElement(it,null,r.a.createElement(ct,{style:{width:"100%",backgroundColor:"#ffd300",color:"white"}},e.time,"\ubd84"))),r.a.createElement(st,null,r.a.createElement(dt,{size:"large",onClick:this.props.onButtonPress},"\ubaa9\uc801\uc9c0 \uc7ac\uc124\uc815")))}}]),e}(a.Component);function ft(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  color: white;\n  flex: inherit;\n  background: #000033;\n"]);return ft=function(){return t},t}var ht=s.default.div(ft()),pt=function(t){var e=t.pathList,n=t.addr;return r.a.createElement(ht,null,r.a.createElement("p",null,n),r.a.createElement("div",null,r.a.createElement("span",null,"\ub9c9\ucc28\uae4c\uc9c0 "),r.a.createElement("span",null,e?e[0].route.lastTimeList[0].lastTimeDay:"\uc900\ube44\uc911\uc785\ub2c8\ub2e4")))};function bt(){var t=Object(c.a)(["\n  display: flex;\n  flex: 3;\n"]);return bt=function(){return t},t}function gt(){var t=Object(c.a)(["\n  flex: 10;\n  display: flex;\n  justify-content: center;\n"]);return gt=function(){return t},t}function vt(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return vt=function(){return t},t}var yt=s.default.div(vt()),jt=s.default.div(gt()),kt=s.default.div(bt()),xt=r.a.createElement(G.a,{type:"loading",style:{fontSize:24},spin:!0}),Ot=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(g.a)(this,Object(v.a)(e).call(this,t))).state={endX:126.91509963231,endY:37.568565387939,data:{},currentAddr:"\ud655\uc778\uc911...",startX:"",startY:""},n}return Object(y.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(localStorage.getItem("loc")){var e=JSON.parse(localStorage.getItem("loc")).endLocation,n=e.endX,a=e.endY;this.setState({endX:n,endY:a})}navigator.geolocation.getCurrentPosition(function(e){var n=e.coords,a=n.latitude,r=n.longitude;t.setState({startX:r,startY:a}),t.getTrainData(a,r)})}},{key:"componentDidUpdate",value:function(t,e){if(e.startX!==this.state.startX){var n=this.state,a=n.startX,r=n.startY;this.getTrainData(r,a),this.getCurrentPosFromGPS(a,r)}}},{key:"getTrainData",value:function(t,e){var n=this,a=this.state,r=a.endX,o=a.endY,i="https://makkcha.com/searchMakcha?startX=".concat(e,"&startY=").concat(t,"&endX=").concat(r,"&endY=").concat(o);w.a.get(i).then(function(t){return n.setState({data:t.data})})}},{key:"getCurrentPosFromGPS",value:function(t,e){var n=this,a="https://dapi.kakao.com/v2/local/geo/coord2address.json?x=".concat(t,"&y=").concat(e,"&input_coord=WGS84"),r={Authorization:"KakaoAK ".concat(S.a.KakaoAK)};w.a.get(a,{headers:r}).then(function(t){return n.setState({currentAddr:t.data.documents[0].address.address_name})})}},{key:"onButtonPress",value:function(){localStorage.setItem("loc",""),this.props.toggleComponent()}},{key:"render",value:function(){var t=this.state.data.pathOptionList,e=this.state.currentAddr;return r.a.createElement(yt,null,r.a.createElement(kt,null,r.a.createElement(pt,{pathList:t,addr:e})),r.a.createElement(jt,null,Object.keys(this.state.data).length?r.a.createElement(mt,{data:this.state.data,onButtonPress:this.onButtonPress.bind(this)}):r.a.createElement(J.a,{indicator:xt})))}}]),e}(a.Component);function wt(){var t=Object(c.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return wt=function(){return t},t}var Et=s.default.div(wt()),St=function(t){function e(){var t,n;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(r)))).state={component:"form"},n}return Object(y.a)(e,t),Object(b.a)(e,[{key:"componentDidMount",value:function(){localStorage.getItem("loc")&&this.setState({component:"main"})}},{key:"componentDidUpdate",value:function(t,e){t!==this.props&&console.log(this.props)}},{key:"toggleComponent",value:function(){"form"===this.state.component?this.setState({component:"main"}):this.setState({component:"form"})}},{key:"render",value:function(){return r.a.createElement(Et,null,"form"===this.state.component?r.a.createElement(z,{toggleComponent:this.toggleComponent.bind(this)}):r.a.createElement(Ot,{toggleComponent:this.toggleComponent.bind(this)}))}}]),e}(a.Component);function Ct(){var t=Object(c.a)(["\n  height: 100%;\n  width: 100%;\n"]);return Ct=function(){return t},t}var At=s.default.div(Ct()),Pt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(l.a,null,r.a.createElement(At,{className:"app"},r.a.createElement(u.a,{exact:!0,path:"/",component:St}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},67:function(t,e){t.exports={KakaoAK:"608b513f89e46075473ef312d8ea7a39"}}},[[144,1,2]]]);
//# sourceMappingURL=main.f253120e.chunk.js.map